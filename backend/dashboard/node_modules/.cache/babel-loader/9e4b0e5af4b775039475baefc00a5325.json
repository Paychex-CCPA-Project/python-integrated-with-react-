{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport compose from 'recompose/compose';\nimport inflection from 'inflection';\nimport { reset } from 'redux-form';\nimport withTranslate from '../i18n/translate';\nimport { crudGetOne, crudUpdate, startUndoable as startUndoableAction } from '../actions';\nimport { REDUX_FORM_NAME } from '../form';\nimport checkMinimumRequiredProps from './checkMinimumRequiredProps';\n/**\n * Page component for the Edit view\n *\n * The `<Edit>` component renders the page title and actions,\n * fetches the record from the data provider.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The `<Edit>` component accepts the following props:\n *\n * - title\n * - actions\n *\n * Both expect an element for value.\n *\n * @example\n *     // in src/posts.js\n *     import React from 'react';\n *     import { Edit, SimpleForm, TextInput } from 'react-admin';\n *\n *     export const PostEdit = (props) => (\n *         <Edit {...props}>\n *             <SimpleForm>\n *                 <TextInput source=\"title\" />\n *             </SimpleForm>\n *         </Edit>\n *     );\n *\n *     // in src/App.js\n *     import React from 'react';\n *     import { Admin, Resource } from 'react-admin';\n *\n *     import { PostEdit } from './posts';\n *\n *     const App = () => (\n *         <Admin dataProvider={...}>\n *             <Resource name=\"posts\" edit={PostEdit} />\n *         </Admin>\n *     );\n *     export default App;\n */\n\nvar UnconnectedEditController =\n/** @class */\nfunction (_super) {\n  __extends(UnconnectedEditController, _super);\n\n  function UnconnectedEditController() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.save = function (data, redirect) {\n      var _a = _this.props,\n          _b = _a.undoable,\n          undoable = _b === void 0 ? true : _b,\n          startUndoable = _a.startUndoable,\n          dispatchCrudUpdate = _a.dispatchCrudUpdate;\n\n      if (undoable) {\n        startUndoable(crudUpdate(_this.props.resource, _this.props.id, data, _this.props.record, _this.props.basePath, redirect));\n      } else {\n        dispatchCrudUpdate(_this.props.resource, _this.props.id, data, _this.props.record, _this.props.basePath, redirect);\n      }\n    };\n\n    return _this;\n  }\n\n  UnconnectedEditController.prototype.componentDidMount = function () {\n    this.updateData();\n  };\n\n  UnconnectedEditController.prototype.componentWillReceiveProps = function (nextProps) {\n    if (this.props.id !== nextProps.id || nextProps.version !== this.props.version) {\n      this.props.resetForm(REDUX_FORM_NAME);\n      this.updateData(nextProps.resource, nextProps.id);\n    }\n  };\n\n  UnconnectedEditController.prototype.defaultRedirectRoute = function () {\n    return 'list';\n  };\n\n  UnconnectedEditController.prototype.updateData = function (resource, id) {\n    if (resource === void 0) {\n      resource = this.props.resource;\n    }\n\n    if (id === void 0) {\n      id = this.props.id;\n    }\n\n    this.props.crudGetOne(resource, id, this.props.basePath);\n  };\n\n  UnconnectedEditController.prototype.render = function () {\n    var _a = this.props,\n        basePath = _a.basePath,\n        children = _a.children,\n        id = _a.id,\n        isLoading = _a.isLoading,\n        record = _a.record,\n        resource = _a.resource,\n        translate = _a.translate,\n        version = _a.version;\n\n    if (!children) {\n      return null;\n    }\n\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n      smart_count: 1,\n      _: inflection.humanize(inflection.singularize(resource))\n    });\n    var defaultTitle = translate('ra.page.edit', {\n      name: \"\" + resourceName,\n      id: id,\n      record: record\n    });\n    return children({\n      isLoading: isLoading,\n      defaultTitle: defaultTitle,\n      save: this.save,\n      resource: resource,\n      basePath: basePath,\n      record: record,\n      redirect: this.defaultRedirectRoute(),\n      translate: translate,\n      version: version\n    });\n  };\n\n  return UnconnectedEditController;\n}(Component);\n\nexport { UnconnectedEditController };\n\nfunction mapStateToProps(state, props) {\n  return {\n    id: props.id,\n    record: state.admin.resources[props.resource] ? state.admin.resources[props.resource].data[props.id] : null,\n    isLoading: state.admin.loading > 0,\n    version: state.admin.ui.viewVersion\n  };\n}\n\nvar EditController = compose(checkMinimumRequiredProps('Edit', ['basePath', 'resource']), connect(mapStateToProps, {\n  crudGetOne: crudGetOne,\n  dispatchCrudUpdate: crudUpdate,\n  startUndoable: startUndoableAction,\n  resetForm: reset\n}), withTranslate)(UnconnectedEditController);\nexport default EditController;","map":{"version":3,"sources":["/Users/masonkirby/Desktop/backed/backend/dashboard/node_modules/ra-data-drf/node_modules/ra-core/esm/controller/EditController.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Component","connect","compose","inflection","reset","withTranslate","crudGetOne","crudUpdate","startUndoable","startUndoableAction","REDUX_FORM_NAME","checkMinimumRequiredProps","UnconnectedEditController","_super","_this","apply","arguments","save","data","redirect","_a","props","_b","undoable","dispatchCrudUpdate","resource","id","record","basePath","componentDidMount","updateData","componentWillReceiveProps","nextProps","version","resetForm","defaultRedirectRoute","render","children","isLoading","translate","resourceName","smart_count","_","humanize","singularize","defaultTitle","name","mapStateToProps","state","admin","resources","loading","ui","viewVersion","EditController"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport compose from 'recompose/compose';\nimport inflection from 'inflection';\nimport { reset } from 'redux-form';\nimport withTranslate from '../i18n/translate';\nimport { crudGetOne, crudUpdate, startUndoable as startUndoableAction, } from '../actions';\nimport { REDUX_FORM_NAME } from '../form';\nimport checkMinimumRequiredProps from './checkMinimumRequiredProps';\n/**\n * Page component for the Edit view\n *\n * The `<Edit>` component renders the page title and actions,\n * fetches the record from the data provider.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The `<Edit>` component accepts the following props:\n *\n * - title\n * - actions\n *\n * Both expect an element for value.\n *\n * @example\n *     // in src/posts.js\n *     import React from 'react';\n *     import { Edit, SimpleForm, TextInput } from 'react-admin';\n *\n *     export const PostEdit = (props) => (\n *         <Edit {...props}>\n *             <SimpleForm>\n *                 <TextInput source=\"title\" />\n *             </SimpleForm>\n *         </Edit>\n *     );\n *\n *     // in src/App.js\n *     import React from 'react';\n *     import { Admin, Resource } from 'react-admin';\n *\n *     import { PostEdit } from './posts';\n *\n *     const App = () => (\n *         <Admin dataProvider={...}>\n *             <Resource name=\"posts\" edit={PostEdit} />\n *         </Admin>\n *     );\n *     export default App;\n */\nvar UnconnectedEditController = /** @class */ (function (_super) {\n    __extends(UnconnectedEditController, _super);\n    function UnconnectedEditController() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.save = function (data, redirect) {\n            var _a = _this.props, _b = _a.undoable, undoable = _b === void 0 ? true : _b, startUndoable = _a.startUndoable, dispatchCrudUpdate = _a.dispatchCrudUpdate;\n            if (undoable) {\n                startUndoable(crudUpdate(_this.props.resource, _this.props.id, data, _this.props.record, _this.props.basePath, redirect));\n            }\n            else {\n                dispatchCrudUpdate(_this.props.resource, _this.props.id, data, _this.props.record, _this.props.basePath, redirect);\n            }\n        };\n        return _this;\n    }\n    UnconnectedEditController.prototype.componentDidMount = function () {\n        this.updateData();\n    };\n    UnconnectedEditController.prototype.componentWillReceiveProps = function (nextProps) {\n        if (this.props.id !== nextProps.id ||\n            nextProps.version !== this.props.version) {\n            this.props.resetForm(REDUX_FORM_NAME);\n            this.updateData(nextProps.resource, nextProps.id);\n        }\n    };\n    UnconnectedEditController.prototype.defaultRedirectRoute = function () {\n        return 'list';\n    };\n    UnconnectedEditController.prototype.updateData = function (resource, id) {\n        if (resource === void 0) { resource = this.props.resource; }\n        if (id === void 0) { id = this.props.id; }\n        this.props.crudGetOne(resource, id, this.props.basePath);\n    };\n    UnconnectedEditController.prototype.render = function () {\n        var _a = this.props, basePath = _a.basePath, children = _a.children, id = _a.id, isLoading = _a.isLoading, record = _a.record, resource = _a.resource, translate = _a.translate, version = _a.version;\n        if (!children) {\n            return null;\n        }\n        var resourceName = translate(\"resources.\" + resource + \".name\", {\n            smart_count: 1,\n            _: inflection.humanize(inflection.singularize(resource)),\n        });\n        var defaultTitle = translate('ra.page.edit', {\n            name: \"\" + resourceName,\n            id: id,\n            record: record,\n        });\n        return children({\n            isLoading: isLoading,\n            defaultTitle: defaultTitle,\n            save: this.save,\n            resource: resource,\n            basePath: basePath,\n            record: record,\n            redirect: this.defaultRedirectRoute(),\n            translate: translate,\n            version: version,\n        });\n    };\n    return UnconnectedEditController;\n}(Component));\nexport { UnconnectedEditController };\nfunction mapStateToProps(state, props) {\n    return {\n        id: props.id,\n        record: state.admin.resources[props.resource]\n            ? state.admin.resources[props.resource].data[props.id]\n            : null,\n        isLoading: state.admin.loading > 0,\n        version: state.admin.ui.viewVersion,\n    };\n}\nvar EditController = compose(checkMinimumRequiredProps('Edit', ['basePath', 'resource']), connect(mapStateToProps, {\n    crudGetOne: crudGetOne,\n    dispatchCrudUpdate: crudUpdate,\n    startUndoable: startUndoableAction,\n    resetForm: reset,\n}), withTranslate)(UnconnectedEditController);\nexport default EditController;\n"]},"metadata":{},"sourceType":"module"}