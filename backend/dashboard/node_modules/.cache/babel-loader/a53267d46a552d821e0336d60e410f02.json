{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport { ARRAY_INSERT, ARRAY_MOVE, ARRAY_POP, ARRAY_PUSH, ARRAY_REMOVE, ARRAY_REMOVE_ALL, ARRAY_SHIFT, ARRAY_SPLICE, ARRAY_SWAP, ARRAY_UNSHIFT, AUTOFILL, BLUR, CHANGE, CLEAR_ASYNC_ERROR, CLEAR_SUBMIT, CLEAR_SUBMIT_ERRORS, DESTROY, FOCUS, INITIALIZE, prefix, REGISTER_FIELD, RESET, RESET_SECTION, SET_SUBMIT_FAILED, SET_SUBMIT_SUCCEEDED, START_ASYNC_VALIDATION, START_SUBMIT, STOP_ASYNC_VALIDATION, STOP_SUBMIT, SUBMIT, TOUCH, UNREGISTER_FIELD, UNTOUCH, UPDATE_SYNC_ERRORS, CLEAR_FIELDS, UPDATE_SYNC_WARNINGS } from './actionTypes';\nimport createDeleteInWithCleanUp from './deleteInWithCleanUp';\nimport plain from './structure/plain';\n\nvar shouldDelete = function shouldDelete(_ref) {\n  var getIn = _ref.getIn;\n  return function (state, path) {\n    var initialValuesPath = null;\n\n    if (path.startsWith('values')) {\n      initialValuesPath = path.replace('values', 'initial');\n    }\n\n    var initialValueComparison = initialValuesPath ? getIn(state, initialValuesPath) === undefined : true;\n    return getIn(state, path) !== undefined && initialValueComparison;\n  };\n};\n\nvar isReduxFormAction = function isReduxFormAction(action) {\n  return action && action.type && action.type.length > prefix.length && action.type.substring(0, prefix.length) === prefix;\n};\n\nfunction createReducer(structure) {\n  var _behaviors;\n\n  var deepEqual = structure.deepEqual,\n      empty = structure.empty,\n      forEach = structure.forEach,\n      getIn = structure.getIn,\n      setIn = structure.setIn,\n      deleteIn = structure.deleteIn,\n      fromJS = structure.fromJS,\n      keys = structure.keys,\n      size = structure.size,\n      some = structure.some,\n      splice = structure.splice;\n  var deleteInWithCleanUp = createDeleteInWithCleanUp(structure)(shouldDelete);\n  var plainDeleteInWithCleanUp = createDeleteInWithCleanUp(plain)(shouldDelete);\n\n  var doSplice = function doSplice(state, key, field, index, removeNum, value, force) {\n    var existing = getIn(state, key + '.' + field);\n    return existing || force ? setIn(state, key + '.' + field, splice(existing, index, removeNum, value)) : state;\n  };\n\n  var doPlainSplice = function doPlainSplice(state, key, field, index, removeNum, value, force) {\n    var slice = getIn(state, key);\n    var existing = plain.getIn(slice, field);\n    return existing || force ? setIn(state, key, plain.setIn(slice, field, plain.splice(existing, index, removeNum, value))) : state;\n  };\n\n  var rootKeys = ['values', 'fields', 'submitErrors', 'asyncErrors'];\n\n  var arraySplice = function arraySplice(state, field, index, removeNum, value) {\n    var result = state;\n    var nonValuesValue = value != null ? empty : undefined;\n    result = doSplice(result, 'values', field, index, removeNum, value, true);\n    result = doSplice(result, 'fields', field, index, removeNum, nonValuesValue);\n    result = doPlainSplice(result, 'syncErrors', field, index, removeNum, undefined);\n    result = doPlainSplice(result, 'syncWarnings', field, index, removeNum, undefined);\n    result = doSplice(result, 'submitErrors', field, index, removeNum, undefined);\n    result = doSplice(result, 'asyncErrors', field, index, removeNum, undefined);\n    return result;\n  };\n\n  var behaviors = (_behaviors = {}, _defineProperty(_behaviors, ARRAY_INSERT, function (state, _ref2) {\n    var _ref2$meta = _ref2.meta,\n        field = _ref2$meta.field,\n        index = _ref2$meta.index,\n        payload = _ref2.payload;\n    return arraySplice(state, field, index, 0, payload);\n  }), _defineProperty(_behaviors, ARRAY_MOVE, function (state, _ref3) {\n    var _ref3$meta = _ref3.meta,\n        field = _ref3$meta.field,\n        from = _ref3$meta.from,\n        to = _ref3$meta.to;\n    var array = getIn(state, 'values.' + field);\n    var length = array ? size(array) : 0;\n    var result = state;\n\n    if (length) {\n      rootKeys.forEach(function (key) {\n        var path = key + '.' + field;\n\n        if (getIn(result, path)) {\n          var value = getIn(result, path + '[' + from + ']');\n          result = setIn(result, path, splice(getIn(result, path), from, 1)); // remove\n\n          result = setIn(result, path, splice(getIn(result, path), to, 0, value)); // insert\n        }\n      });\n    }\n\n    return result;\n  }), _defineProperty(_behaviors, ARRAY_POP, function (state, _ref4) {\n    var field = _ref4.meta.field;\n    var array = getIn(state, 'values.' + field);\n    var length = array ? size(array) : 0;\n    return length ? arraySplice(state, field, length - 1, 1) : state;\n  }), _defineProperty(_behaviors, ARRAY_PUSH, function (state, _ref5) {\n    var field = _ref5.meta.field,\n        payload = _ref5.payload;\n    var array = getIn(state, 'values.' + field);\n    var length = array ? size(array) : 0;\n    return arraySplice(state, field, length, 0, payload);\n  }), _defineProperty(_behaviors, ARRAY_REMOVE, function (state, _ref6) {\n    var _ref6$meta = _ref6.meta,\n        field = _ref6$meta.field,\n        index = _ref6$meta.index;\n    return arraySplice(state, field, index, 1);\n  }), _defineProperty(_behaviors, ARRAY_REMOVE_ALL, function (state, _ref7) {\n    var field = _ref7.meta.field;\n    var array = getIn(state, 'values.' + field);\n    var length = array ? size(array) : 0;\n    return length ? arraySplice(state, field, 0, length) : state;\n  }), _defineProperty(_behaviors, ARRAY_SHIFT, function (state, _ref8) {\n    var field = _ref8.meta.field;\n    return arraySplice(state, field, 0, 1);\n  }), _defineProperty(_behaviors, ARRAY_SPLICE, function (state, _ref9) {\n    var _ref9$meta = _ref9.meta,\n        field = _ref9$meta.field,\n        index = _ref9$meta.index,\n        removeNum = _ref9$meta.removeNum,\n        payload = _ref9.payload;\n    return arraySplice(state, field, index, removeNum, payload);\n  }), _defineProperty(_behaviors, ARRAY_SWAP, function (state, _ref10) {\n    var _ref10$meta = _ref10.meta,\n        field = _ref10$meta.field,\n        indexA = _ref10$meta.indexA,\n        indexB = _ref10$meta.indexB;\n    var result = state;\n    rootKeys.forEach(function (key) {\n      var valueA = getIn(result, key + '.' + field + '[' + indexA + ']');\n      var valueB = getIn(result, key + '.' + field + '[' + indexB + ']');\n\n      if (valueA !== undefined || valueB !== undefined) {\n        result = setIn(result, key + '.' + field + '[' + indexA + ']', valueB);\n        result = setIn(result, key + '.' + field + '[' + indexB + ']', valueA);\n      }\n    });\n    return result;\n  }), _defineProperty(_behaviors, ARRAY_UNSHIFT, function (state, _ref11) {\n    var field = _ref11.meta.field,\n        payload = _ref11.payload;\n    return arraySplice(state, field, 0, 0, payload);\n  }), _defineProperty(_behaviors, AUTOFILL, function (state, _ref12) {\n    var field = _ref12.meta.field,\n        payload = _ref12.payload;\n    var result = state;\n    result = deleteInWithCleanUp(result, 'asyncErrors.' + field);\n    result = deleteInWithCleanUp(result, 'submitErrors.' + field);\n    result = setIn(result, 'fields.' + field + '.autofilled', true);\n    result = setIn(result, 'values.' + field, payload);\n    return result;\n  }), _defineProperty(_behaviors, BLUR, function (state, _ref13) {\n    var _ref13$meta = _ref13.meta,\n        field = _ref13$meta.field,\n        touch = _ref13$meta.touch,\n        payload = _ref13.payload;\n    var result = state;\n    var initial = getIn(result, 'initial.' + field);\n\n    if (initial === undefined && payload === '') {\n      result = deleteInWithCleanUp(result, 'values.' + field);\n    } else if (payload !== undefined) {\n      result = setIn(result, 'values.' + field, payload);\n    }\n\n    if (field === getIn(result, 'active')) {\n      result = deleteIn(result, 'active');\n    }\n\n    result = deleteIn(result, 'fields.' + field + '.active');\n\n    if (touch) {\n      result = setIn(result, 'fields.' + field + '.touched', true);\n      result = setIn(result, 'anyTouched', true);\n    }\n\n    return result;\n  }), _defineProperty(_behaviors, CHANGE, function (state, _ref14) {\n    var _ref14$meta = _ref14.meta,\n        field = _ref14$meta.field,\n        touch = _ref14$meta.touch,\n        persistentSubmitErrors = _ref14$meta.persistentSubmitErrors,\n        payload = _ref14.payload;\n    var result = state;\n    var initial = getIn(result, 'initial.' + field);\n\n    if (initial === undefined && payload === '') {\n      result = deleteInWithCleanUp(result, 'values.' + field);\n    } else if (payload !== undefined) {\n      result = setIn(result, 'values.' + field, payload);\n    }\n\n    result = deleteInWithCleanUp(result, 'asyncErrors.' + field);\n\n    if (!persistentSubmitErrors) {\n      result = deleteInWithCleanUp(result, 'submitErrors.' + field);\n    }\n\n    result = deleteInWithCleanUp(result, 'fields.' + field + '.autofilled');\n\n    if (touch) {\n      result = setIn(result, 'fields.' + field + '.touched', true);\n      result = setIn(result, 'anyTouched', true);\n    }\n\n    return result;\n  }), _defineProperty(_behaviors, CLEAR_SUBMIT, function (state) {\n    return deleteIn(state, 'triggerSubmit');\n  }), _defineProperty(_behaviors, CLEAR_SUBMIT_ERRORS, function (state) {\n    var result = state;\n    result = deleteInWithCleanUp(result, 'submitErrors');\n    result = deleteIn(result, 'error');\n    return result;\n  }), _defineProperty(_behaviors, CLEAR_ASYNC_ERROR, function (state, _ref15) {\n    var field = _ref15.meta.field;\n    return deleteIn(state, 'asyncErrors.' + field);\n  }), _defineProperty(_behaviors, CLEAR_FIELDS, function (state, _ref16) {\n    var _ref16$meta = _ref16.meta,\n        keepTouched = _ref16$meta.keepTouched,\n        persistentSubmitErrors = _ref16$meta.persistentSubmitErrors,\n        fields = _ref16$meta.fields;\n    var result = state;\n    fields.forEach(function (field) {\n      result = deleteInWithCleanUp(result, 'values.' + field);\n      result = deleteInWithCleanUp(result, 'asyncErrors.' + field);\n\n      if (!persistentSubmitErrors) {\n        result = deleteInWithCleanUp(result, 'submitErrors.' + field);\n      }\n\n      result = deleteInWithCleanUp(result, 'fields.' + field + '.autofilled');\n\n      if (!keepTouched) {\n        result = deleteIn(result, 'fields.' + field + '.touched');\n      }\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, 'fields.' + key + '.touched');\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }), _defineProperty(_behaviors, FOCUS, function (state, _ref17) {\n    var field = _ref17.meta.field;\n    var result = state;\n    var previouslyActive = getIn(state, 'active');\n    result = deleteIn(result, 'fields.' + previouslyActive + '.active');\n    result = setIn(result, 'fields.' + field + '.visited', true);\n    result = setIn(result, 'fields.' + field + '.active', true);\n    result = setIn(result, 'active', field);\n    return result;\n  }), _defineProperty(_behaviors, INITIALIZE, function (state, _ref18) {\n    var payload = _ref18.payload,\n        _ref18$meta = _ref18.meta,\n        keepDirty = _ref18$meta.keepDirty,\n        keepSubmitSucceeded = _ref18$meta.keepSubmitSucceeded,\n        updateUnregisteredFields = _ref18$meta.updateUnregisteredFields,\n        keepValues = _ref18$meta.keepValues;\n    var mapData = fromJS(payload);\n    var result = empty; // clean all field state\n    // persist old warnings, they will get recalculated if the new form values are different from the old values\n\n    var warning = getIn(state, 'warning');\n\n    if (warning) {\n      result = setIn(result, 'warning', warning);\n    }\n\n    var syncWarnings = getIn(state, 'syncWarnings');\n\n    if (syncWarnings) {\n      result = setIn(result, 'syncWarnings', syncWarnings);\n    } // persist old errors, they will get recalculated if the new form values are different from the old values\n\n\n    var error = getIn(state, 'error');\n\n    if (error) {\n      result = setIn(result, 'error', error);\n    }\n\n    var syncErrors = getIn(state, 'syncErrors');\n\n    if (syncErrors) {\n      result = setIn(result, 'syncErrors', syncErrors);\n    }\n\n    var registeredFields = getIn(state, 'registeredFields');\n\n    if (registeredFields) {\n      result = setIn(result, 'registeredFields', registeredFields);\n    }\n\n    var previousValues = getIn(state, 'values');\n    var previousInitialValues = getIn(state, 'initial');\n    var newInitialValues = mapData;\n    var newValues = previousValues;\n\n    if (keepDirty && registeredFields) {\n      if (!deepEqual(newInitialValues, previousInitialValues)) {\n        //\n        // Keep the value of dirty fields while updating the value of\n        // pristine fields. This way, apps can reinitialize forms while\n        // avoiding stomping on user edits.\n        //\n        // Note 1: The initialize action replaces all initial values\n        // regardless of keepDirty.\n        //\n        // Note 2: When a field is dirty, keepDirty is enabled, and the field\n        // value is the same as the new initial value for the field, the\n        // initialize action causes the field to become pristine. That effect\n        // is what we want.\n        //\n        var overwritePristineValue = function overwritePristineValue(name) {\n          var previousInitialValue = getIn(previousInitialValues, name);\n          var previousValue = getIn(previousValues, name);\n\n          if (deepEqual(previousValue, previousInitialValue)) {\n            // Overwrite the old pristine value with the new pristine value\n            var newInitialValue = getIn(newInitialValues, name); // This check prevents any 'setIn' call that would create useless\n            // nested objects, since the path to the new field value would\n            // evaluate to the same (especially for undefined values)\n\n            if (getIn(newValues, name) !== newInitialValue) {\n              newValues = setIn(newValues, name, newInitialValue);\n            }\n          }\n        };\n\n        if (!updateUnregisteredFields) {\n          forEach(keys(registeredFields), function (name) {\n            return overwritePristineValue(name);\n          });\n        }\n\n        forEach(keys(newInitialValues), function (name) {\n          var previousInitialValue = getIn(previousInitialValues, name);\n\n          if (typeof previousInitialValue === 'undefined') {\n            // Add new values at the root level.\n            var newInitialValue = getIn(newInitialValues, name);\n            newValues = setIn(newValues, name, newInitialValue);\n          }\n\n          if (updateUnregisteredFields) {\n            overwritePristineValue(name);\n          }\n        });\n      }\n    } else {\n      newValues = newInitialValues;\n    }\n\n    if (keepValues) {\n      forEach(keys(previousValues), function (name) {\n        var previousValue = getIn(previousValues, name);\n        newValues = setIn(newValues, name, previousValue);\n      });\n      forEach(keys(previousInitialValues), function (name) {\n        var previousInitialValue = getIn(previousInitialValues, name);\n        newInitialValues = setIn(newInitialValues, name, previousInitialValue);\n      });\n    }\n\n    if (keepSubmitSucceeded && getIn(state, 'submitSucceeded')) {\n      result = setIn(result, 'submitSucceeded', true);\n    }\n\n    result = setIn(result, 'values', newValues);\n    result = setIn(result, 'initial', newInitialValues);\n    return result;\n  }), _defineProperty(_behaviors, REGISTER_FIELD, function (state, _ref19) {\n    var _ref19$payload = _ref19.payload,\n        name = _ref19$payload.name,\n        type = _ref19$payload.type;\n    var key = 'registeredFields[\\'' + name + '\\']';\n    var field = getIn(state, key);\n\n    if (field) {\n      var count = getIn(field, 'count') + 1;\n      field = setIn(field, 'count', count);\n    } else {\n      field = fromJS({\n        name: name,\n        type: type,\n        count: 1\n      });\n    }\n\n    return setIn(state, key, field);\n  }), _defineProperty(_behaviors, RESET, function (state) {\n    var result = empty;\n    var registeredFields = getIn(state, 'registeredFields');\n\n    if (registeredFields) {\n      result = setIn(result, 'registeredFields', registeredFields);\n    }\n\n    var values = getIn(state, 'initial');\n\n    if (values) {\n      result = setIn(result, 'values', values);\n      result = setIn(result, 'initial', values);\n    }\n\n    return result;\n  }), _defineProperty(_behaviors, RESET_SECTION, function (state, _ref20) {\n    var sections = _ref20.meta.sections;\n    var result = state;\n    sections.forEach(function (section) {\n      result = deleteInWithCleanUp(result, 'asyncErrors.' + section);\n      result = deleteInWithCleanUp(result, 'submitErrors.' + section);\n      result = deleteInWithCleanUp(result, 'fields.' + section);\n      var values = getIn(state, 'initial.' + section);\n      result = values ? setIn(result, 'values.' + section, values) : deleteInWithCleanUp(result, 'values.' + section);\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, 'fields.' + key + '.touched');\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }), _defineProperty(_behaviors, SUBMIT, function (state) {\n    return setIn(state, 'triggerSubmit', true);\n  }), _defineProperty(_behaviors, START_ASYNC_VALIDATION, function (state, _ref21) {\n    var field = _ref21.meta.field;\n    return setIn(state, 'asyncValidating', field || true);\n  }), _defineProperty(_behaviors, START_SUBMIT, function (state) {\n    return setIn(state, 'submitting', true);\n  }), _defineProperty(_behaviors, STOP_ASYNC_VALIDATION, function (state, _ref22) {\n    var payload = _ref22.payload;\n    var result = state;\n    result = deleteIn(result, 'asyncValidating');\n\n    if (payload && Object.keys(payload).length) {\n      var _error = payload._error,\n          fieldErrors = _objectWithoutProperties(payload, ['_error']);\n\n      if (_error) {\n        result = setIn(result, 'error', _error);\n      }\n\n      if (Object.keys(fieldErrors).length) {\n        result = setIn(result, 'asyncErrors', fromJS(fieldErrors));\n      }\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'asyncErrors');\n    }\n\n    return result;\n  }), _defineProperty(_behaviors, STOP_SUBMIT, function (state, _ref23) {\n    var payload = _ref23.payload;\n    var result = state;\n    result = deleteIn(result, 'submitting');\n    result = deleteIn(result, 'submitFailed');\n    result = deleteIn(result, 'submitSucceeded');\n\n    if (payload && Object.keys(payload).length) {\n      var _error = payload._error,\n          fieldErrors = _objectWithoutProperties(payload, ['_error']);\n\n      if (_error) {\n        result = setIn(result, 'error', _error);\n      } else {\n        result = deleteIn(result, 'error');\n      }\n\n      if (Object.keys(fieldErrors).length) {\n        result = setIn(result, 'submitErrors', fromJS(fieldErrors));\n      } else {\n        result = deleteIn(result, 'submitErrors');\n      }\n\n      result = setIn(result, 'submitFailed', true);\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'submitErrors');\n    }\n\n    return result;\n  }), _defineProperty(_behaviors, SET_SUBMIT_FAILED, function (state, _ref24) {\n    var fields = _ref24.meta.fields;\n    var result = state;\n    result = setIn(result, 'submitFailed', true);\n    result = deleteIn(result, 'submitSucceeded');\n    result = deleteIn(result, 'submitting');\n    fields.forEach(function (field) {\n      return result = setIn(result, 'fields.' + field + '.touched', true);\n    });\n\n    if (fields.length) {\n      result = setIn(result, 'anyTouched', true);\n    }\n\n    return result;\n  }), _defineProperty(_behaviors, SET_SUBMIT_SUCCEEDED, function (state) {\n    var result = state;\n    result = deleteIn(result, 'submitFailed');\n    result = setIn(result, 'submitSucceeded', true);\n    return result;\n  }), _defineProperty(_behaviors, TOUCH, function (state, _ref25) {\n    var fields = _ref25.meta.fields;\n    var result = state;\n    fields.forEach(function (field) {\n      return result = setIn(result, 'fields.' + field + '.touched', true);\n    });\n    result = setIn(result, 'anyTouched', true);\n    return result;\n  }), _defineProperty(_behaviors, UNREGISTER_FIELD, function (state, _ref26) {\n    var _ref26$payload = _ref26.payload,\n        name = _ref26$payload.name,\n        destroyOnUnmount = _ref26$payload.destroyOnUnmount;\n    var result = state;\n    var key = 'registeredFields[\\'' + name + '\\']';\n    var field = getIn(result, key);\n\n    if (!field) {\n      return result;\n    }\n\n    var count = getIn(field, 'count') - 1;\n\n    if (count <= 0 && destroyOnUnmount) {\n      // Note: Cannot use deleteWithCleanUp here because of the flat nature of registeredFields\n      result = deleteIn(result, key);\n\n      if (deepEqual(getIn(result, 'registeredFields'), empty)) {\n        result = deleteIn(result, 'registeredFields');\n      }\n\n      var syncErrors = getIn(result, 'syncErrors');\n\n      if (syncErrors) {\n        syncErrors = plainDeleteInWithCleanUp(syncErrors, name);\n\n        if (plain.deepEqual(syncErrors, plain.empty)) {\n          result = deleteIn(result, 'syncErrors');\n        } else {\n          result = setIn(result, 'syncErrors', syncErrors);\n        }\n      }\n\n      var syncWarnings = getIn(result, 'syncWarnings');\n\n      if (syncWarnings) {\n        syncWarnings = plainDeleteInWithCleanUp(syncWarnings, name);\n\n        if (plain.deepEqual(syncWarnings, plain.empty)) {\n          result = deleteIn(result, 'syncWarnings');\n        } else {\n          result = setIn(result, 'syncWarnings', syncWarnings);\n        }\n      }\n\n      result = deleteInWithCleanUp(result, 'submitErrors.' + name);\n      result = deleteInWithCleanUp(result, 'asyncErrors.' + name);\n    } else {\n      field = setIn(field, 'count', count);\n      result = setIn(result, key, field);\n    }\n\n    return result;\n  }), _defineProperty(_behaviors, UNTOUCH, function (state, _ref27) {\n    var fields = _ref27.meta.fields;\n    var result = state;\n    fields.forEach(function (field) {\n      return result = deleteIn(result, 'fields.' + field + '.touched');\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, 'fields.' + key + '.touched');\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }), _defineProperty(_behaviors, UPDATE_SYNC_ERRORS, function (state, _ref28) {\n    var _ref28$payload = _ref28.payload,\n        syncErrors = _ref28$payload.syncErrors,\n        error = _ref28$payload.error;\n    var result = state;\n\n    if (error) {\n      result = setIn(result, 'error', error);\n      result = setIn(result, 'syncError', true);\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'syncError');\n    }\n\n    if (Object.keys(syncErrors).length) {\n      result = setIn(result, 'syncErrors', syncErrors);\n    } else {\n      result = deleteIn(result, 'syncErrors');\n    }\n\n    return result;\n  }), _defineProperty(_behaviors, UPDATE_SYNC_WARNINGS, function (state, _ref29) {\n    var _ref29$payload = _ref29.payload,\n        syncWarnings = _ref29$payload.syncWarnings,\n        warning = _ref29$payload.warning;\n    var result = state;\n\n    if (warning) {\n      result = setIn(result, 'warning', warning);\n    } else {\n      result = deleteIn(result, 'warning');\n    }\n\n    if (Object.keys(syncWarnings).length) {\n      result = setIn(result, 'syncWarnings', syncWarnings);\n    } else {\n      result = deleteIn(result, 'syncWarnings');\n    }\n\n    return result;\n  }), _behaviors);\n\n  var reducer = function reducer() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : empty;\n    var action = arguments[1];\n    var behavior = behaviors[action.type];\n    return behavior ? behavior(state, action) : state;\n  };\n\n  var byForm = function byForm(reducer) {\n    return function () {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : empty;\n      var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        type: 'NONE'\n      };\n      var form = action && action.meta && action.meta.form;\n\n      if (!form || !isReduxFormAction(action)) {\n        return state;\n      }\n\n      if (action.type === DESTROY && action.meta && action.meta.form) {\n        return action.meta.form.reduce(function (result, form) {\n          return deleteInWithCleanUp(result, form);\n        }, state);\n      }\n\n      var formState = getIn(state, form);\n      var result = reducer(formState, action);\n      return result === formState ? state : setIn(state, form, result);\n    };\n  };\n  /**\n   * Adds additional functionality to the reducer\n   */\n\n\n  function decorate(target) {\n    target.plugin = function (reducers) {\n      var _this = this; // use 'function' keyword to enable 'this'\n\n\n      return decorate(function () {\n        var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : empty;\n        var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n          type: 'NONE'\n        };\n\n        var callPlugin = function callPlugin(processed, key) {\n          var previousState = getIn(processed, key);\n          var nextState = reducers[key](previousState, action, getIn(state, key));\n          return nextState !== previousState ? setIn(processed, key, nextState) : processed;\n        };\n\n        var processed = _this(state, action); // run through redux-form reducer\n\n\n        var form = action && action.meta && action.meta.form;\n\n        if (form) {\n          // this is an action aimed at forms, so only give it to the specified form's plugin\n          return reducers[form] ? callPlugin(processed, form) : processed;\n        } else {\n          // this is not a form-specific action, so send it to all the plugins\n          return Object.keys(reducers).reduce(callPlugin, processed);\n        }\n      });\n    };\n\n    return target;\n  }\n\n  return decorate(byForm(reducer));\n}\n\nexport default createReducer;","map":{"version":3,"sources":["/Users/masonkirby/Desktop/backed/backend/dashboard/node_modules/ra-data-drf/node_modules/redux-form/es/createReducer.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_objectWithoutProperties","keys","target","i","indexOf","prototype","hasOwnProperty","call","ARRAY_INSERT","ARRAY_MOVE","ARRAY_POP","ARRAY_PUSH","ARRAY_REMOVE","ARRAY_REMOVE_ALL","ARRAY_SHIFT","ARRAY_SPLICE","ARRAY_SWAP","ARRAY_UNSHIFT","AUTOFILL","BLUR","CHANGE","CLEAR_ASYNC_ERROR","CLEAR_SUBMIT","CLEAR_SUBMIT_ERRORS","DESTROY","FOCUS","INITIALIZE","prefix","REGISTER_FIELD","RESET","RESET_SECTION","SET_SUBMIT_FAILED","SET_SUBMIT_SUCCEEDED","START_ASYNC_VALIDATION","START_SUBMIT","STOP_ASYNC_VALIDATION","STOP_SUBMIT","SUBMIT","TOUCH","UNREGISTER_FIELD","UNTOUCH","UPDATE_SYNC_ERRORS","CLEAR_FIELDS","UPDATE_SYNC_WARNINGS","createDeleteInWithCleanUp","plain","shouldDelete","_ref","getIn","state","path","initialValuesPath","startsWith","replace","initialValueComparison","undefined","isReduxFormAction","action","type","length","substring","createReducer","structure","_behaviors","deepEqual","empty","forEach","setIn","deleteIn","fromJS","size","some","splice","deleteInWithCleanUp","plainDeleteInWithCleanUp","doSplice","field","index","removeNum","force","existing","doPlainSplice","slice","rootKeys","arraySplice","result","nonValuesValue","behaviors","_ref2","_ref2$meta","meta","payload","_ref3","_ref3$meta","from","to","array","_ref4","_ref5","_ref6","_ref6$meta","_ref7","_ref8","_ref9","_ref9$meta","_ref10","_ref10$meta","indexA","indexB","valueA","valueB","_ref11","_ref12","_ref13","_ref13$meta","touch","initial","_ref14","_ref14$meta","persistentSubmitErrors","_ref15","_ref16","_ref16$meta","keepTouched","fields","anyTouched","_ref17","previouslyActive","_ref18","_ref18$meta","keepDirty","keepSubmitSucceeded","updateUnregisteredFields","keepValues","mapData","warning","syncWarnings","error","syncErrors","registeredFields","previousValues","previousInitialValues","newInitialValues","newValues","overwritePristineValue","name","previousInitialValue","previousValue","newInitialValue","_ref19","_ref19$payload","count","values","_ref20","sections","section","_ref21","_ref22","_error","fieldErrors","_ref23","_ref24","_ref25","_ref26","_ref26$payload","destroyOnUnmount","_ref27","_ref28","_ref28$payload","_ref29","_ref29$payload","reducer","arguments","behavior","byForm","form","reduce","formState","decorate","plugin","reducers","_this","callPlugin","processed","previousState","nextState"],"mappings":"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","sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport { ARRAY_INSERT, ARRAY_MOVE, ARRAY_POP, ARRAY_PUSH, ARRAY_REMOVE, ARRAY_REMOVE_ALL, ARRAY_SHIFT, ARRAY_SPLICE, ARRAY_SWAP, ARRAY_UNSHIFT, AUTOFILL, BLUR, CHANGE, CLEAR_ASYNC_ERROR, CLEAR_SUBMIT, CLEAR_SUBMIT_ERRORS, DESTROY, FOCUS, INITIALIZE, prefix, REGISTER_FIELD, RESET, RESET_SECTION, SET_SUBMIT_FAILED, SET_SUBMIT_SUCCEEDED, START_ASYNC_VALIDATION, START_SUBMIT, STOP_ASYNC_VALIDATION, STOP_SUBMIT, SUBMIT, TOUCH, UNREGISTER_FIELD, UNTOUCH, UPDATE_SYNC_ERRORS, CLEAR_FIELDS, UPDATE_SYNC_WARNINGS } from './actionTypes';\nimport createDeleteInWithCleanUp from './deleteInWithCleanUp';\nimport plain from './structure/plain';\n\n\nvar shouldDelete = function shouldDelete(_ref) {\n  var getIn = _ref.getIn;\n  return function (state, path) {\n    var initialValuesPath = null;\n\n    if (path.startsWith('values')) {\n      initialValuesPath = path.replace('values', 'initial');\n    }\n\n    var initialValueComparison = initialValuesPath ? getIn(state, initialValuesPath) === undefined : true;\n\n    return getIn(state, path) !== undefined && initialValueComparison;\n  };\n};\n\nvar isReduxFormAction = function isReduxFormAction(action) {\n  return action && action.type && action.type.length > prefix.length && action.type.substring(0, prefix.length) === prefix;\n};\n\nfunction createReducer(structure) {\n  var _behaviors;\n\n  var deepEqual = structure.deepEqual,\n      empty = structure.empty,\n      forEach = structure.forEach,\n      getIn = structure.getIn,\n      setIn = structure.setIn,\n      deleteIn = structure.deleteIn,\n      fromJS = structure.fromJS,\n      keys = structure.keys,\n      size = structure.size,\n      some = structure.some,\n      splice = structure.splice;\n\n  var deleteInWithCleanUp = createDeleteInWithCleanUp(structure)(shouldDelete);\n  var plainDeleteInWithCleanUp = createDeleteInWithCleanUp(plain)(shouldDelete);\n  var doSplice = function doSplice(state, key, field, index, removeNum, value, force) {\n    var existing = getIn(state, key + '.' + field);\n    return existing || force ? setIn(state, key + '.' + field, splice(existing, index, removeNum, value)) : state;\n  };\n  var doPlainSplice = function doPlainSplice(state, key, field, index, removeNum, value, force) {\n    var slice = getIn(state, key);\n    var existing = plain.getIn(slice, field);\n    return existing || force ? setIn(state, key, plain.setIn(slice, field, plain.splice(existing, index, removeNum, value))) : state;\n  };\n  var rootKeys = ['values', 'fields', 'submitErrors', 'asyncErrors'];\n  var arraySplice = function arraySplice(state, field, index, removeNum, value) {\n    var result = state;\n    var nonValuesValue = value != null ? empty : undefined;\n    result = doSplice(result, 'values', field, index, removeNum, value, true);\n    result = doSplice(result, 'fields', field, index, removeNum, nonValuesValue);\n    result = doPlainSplice(result, 'syncErrors', field, index, removeNum, undefined);\n    result = doPlainSplice(result, 'syncWarnings', field, index, removeNum, undefined);\n    result = doSplice(result, 'submitErrors', field, index, removeNum, undefined);\n    result = doSplice(result, 'asyncErrors', field, index, removeNum, undefined);\n    return result;\n  };\n\n  var behaviors = (_behaviors = {}, _defineProperty(_behaviors, ARRAY_INSERT, function (state, _ref2) {\n    var _ref2$meta = _ref2.meta,\n        field = _ref2$meta.field,\n        index = _ref2$meta.index,\n        payload = _ref2.payload;\n\n    return arraySplice(state, field, index, 0, payload);\n  }), _defineProperty(_behaviors, ARRAY_MOVE, function (state, _ref3) {\n    var _ref3$meta = _ref3.meta,\n        field = _ref3$meta.field,\n        from = _ref3$meta.from,\n        to = _ref3$meta.to;\n\n    var array = getIn(state, 'values.' + field);\n    var length = array ? size(array) : 0;\n    var result = state;\n    if (length) {\n      rootKeys.forEach(function (key) {\n        var path = key + '.' + field;\n        if (getIn(result, path)) {\n          var value = getIn(result, path + '[' + from + ']');\n          result = setIn(result, path, splice(getIn(result, path), from, 1)); // remove\n          result = setIn(result, path, splice(getIn(result, path), to, 0, value)); // insert\n        }\n      });\n    }\n    return result;\n  }), _defineProperty(_behaviors, ARRAY_POP, function (state, _ref4) {\n    var field = _ref4.meta.field;\n\n    var array = getIn(state, 'values.' + field);\n    var length = array ? size(array) : 0;\n    return length ? arraySplice(state, field, length - 1, 1) : state;\n  }), _defineProperty(_behaviors, ARRAY_PUSH, function (state, _ref5) {\n    var field = _ref5.meta.field,\n        payload = _ref5.payload;\n\n    var array = getIn(state, 'values.' + field);\n    var length = array ? size(array) : 0;\n    return arraySplice(state, field, length, 0, payload);\n  }), _defineProperty(_behaviors, ARRAY_REMOVE, function (state, _ref6) {\n    var _ref6$meta = _ref6.meta,\n        field = _ref6$meta.field,\n        index = _ref6$meta.index;\n\n    return arraySplice(state, field, index, 1);\n  }), _defineProperty(_behaviors, ARRAY_REMOVE_ALL, function (state, _ref7) {\n    var field = _ref7.meta.field;\n\n    var array = getIn(state, 'values.' + field);\n    var length = array ? size(array) : 0;\n    return length ? arraySplice(state, field, 0, length) : state;\n  }), _defineProperty(_behaviors, ARRAY_SHIFT, function (state, _ref8) {\n    var field = _ref8.meta.field;\n\n    return arraySplice(state, field, 0, 1);\n  }), _defineProperty(_behaviors, ARRAY_SPLICE, function (state, _ref9) {\n    var _ref9$meta = _ref9.meta,\n        field = _ref9$meta.field,\n        index = _ref9$meta.index,\n        removeNum = _ref9$meta.removeNum,\n        payload = _ref9.payload;\n\n    return arraySplice(state, field, index, removeNum, payload);\n  }), _defineProperty(_behaviors, ARRAY_SWAP, function (state, _ref10) {\n    var _ref10$meta = _ref10.meta,\n        field = _ref10$meta.field,\n        indexA = _ref10$meta.indexA,\n        indexB = _ref10$meta.indexB;\n\n    var result = state;\n    rootKeys.forEach(function (key) {\n      var valueA = getIn(result, key + '.' + field + '[' + indexA + ']');\n      var valueB = getIn(result, key + '.' + field + '[' + indexB + ']');\n      if (valueA !== undefined || valueB !== undefined) {\n        result = setIn(result, key + '.' + field + '[' + indexA + ']', valueB);\n        result = setIn(result, key + '.' + field + '[' + indexB + ']', valueA);\n      }\n    });\n    return result;\n  }), _defineProperty(_behaviors, ARRAY_UNSHIFT, function (state, _ref11) {\n    var field = _ref11.meta.field,\n        payload = _ref11.payload;\n\n    return arraySplice(state, field, 0, 0, payload);\n  }), _defineProperty(_behaviors, AUTOFILL, function (state, _ref12) {\n    var field = _ref12.meta.field,\n        payload = _ref12.payload;\n\n    var result = state;\n    result = deleteInWithCleanUp(result, 'asyncErrors.' + field);\n    result = deleteInWithCleanUp(result, 'submitErrors.' + field);\n    result = setIn(result, 'fields.' + field + '.autofilled', true);\n    result = setIn(result, 'values.' + field, payload);\n    return result;\n  }), _defineProperty(_behaviors, BLUR, function (state, _ref13) {\n    var _ref13$meta = _ref13.meta,\n        field = _ref13$meta.field,\n        touch = _ref13$meta.touch,\n        payload = _ref13.payload;\n\n    var result = state;\n    var initial = getIn(result, 'initial.' + field);\n    if (initial === undefined && payload === '') {\n      result = deleteInWithCleanUp(result, 'values.' + field);\n    } else if (payload !== undefined) {\n      result = setIn(result, 'values.' + field, payload);\n    }\n    if (field === getIn(result, 'active')) {\n      result = deleteIn(result, 'active');\n    }\n    result = deleteIn(result, 'fields.' + field + '.active');\n    if (touch) {\n      result = setIn(result, 'fields.' + field + '.touched', true);\n      result = setIn(result, 'anyTouched', true);\n    }\n    return result;\n  }), _defineProperty(_behaviors, CHANGE, function (state, _ref14) {\n    var _ref14$meta = _ref14.meta,\n        field = _ref14$meta.field,\n        touch = _ref14$meta.touch,\n        persistentSubmitErrors = _ref14$meta.persistentSubmitErrors,\n        payload = _ref14.payload;\n\n    var result = state;\n    var initial = getIn(result, 'initial.' + field);\n    if (initial === undefined && payload === '') {\n      result = deleteInWithCleanUp(result, 'values.' + field);\n    } else if (payload !== undefined) {\n      result = setIn(result, 'values.' + field, payload);\n    }\n    result = deleteInWithCleanUp(result, 'asyncErrors.' + field);\n    if (!persistentSubmitErrors) {\n      result = deleteInWithCleanUp(result, 'submitErrors.' + field);\n    }\n    result = deleteInWithCleanUp(result, 'fields.' + field + '.autofilled');\n    if (touch) {\n      result = setIn(result, 'fields.' + field + '.touched', true);\n      result = setIn(result, 'anyTouched', true);\n    }\n    return result;\n  }), _defineProperty(_behaviors, CLEAR_SUBMIT, function (state) {\n    return deleteIn(state, 'triggerSubmit');\n  }), _defineProperty(_behaviors, CLEAR_SUBMIT_ERRORS, function (state) {\n    var result = state;\n    result = deleteInWithCleanUp(result, 'submitErrors');\n    result = deleteIn(result, 'error');\n    return result;\n  }), _defineProperty(_behaviors, CLEAR_ASYNC_ERROR, function (state, _ref15) {\n    var field = _ref15.meta.field;\n\n    return deleteIn(state, 'asyncErrors.' + field);\n  }), _defineProperty(_behaviors, CLEAR_FIELDS, function (state, _ref16) {\n    var _ref16$meta = _ref16.meta,\n        keepTouched = _ref16$meta.keepTouched,\n        persistentSubmitErrors = _ref16$meta.persistentSubmitErrors,\n        fields = _ref16$meta.fields;\n\n    var result = state;\n    fields.forEach(function (field) {\n      result = deleteInWithCleanUp(result, 'values.' + field);\n      result = deleteInWithCleanUp(result, 'asyncErrors.' + field);\n      if (!persistentSubmitErrors) {\n        result = deleteInWithCleanUp(result, 'submitErrors.' + field);\n      }\n      result = deleteInWithCleanUp(result, 'fields.' + field + '.autofilled');\n      if (!keepTouched) {\n        result = deleteIn(result, 'fields.' + field + '.touched');\n      }\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, 'fields.' + key + '.touched');\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }), _defineProperty(_behaviors, FOCUS, function (state, _ref17) {\n    var field = _ref17.meta.field;\n\n    var result = state;\n    var previouslyActive = getIn(state, 'active');\n    result = deleteIn(result, 'fields.' + previouslyActive + '.active');\n    result = setIn(result, 'fields.' + field + '.visited', true);\n    result = setIn(result, 'fields.' + field + '.active', true);\n    result = setIn(result, 'active', field);\n    return result;\n  }), _defineProperty(_behaviors, INITIALIZE, function (state, _ref18) {\n    var payload = _ref18.payload,\n        _ref18$meta = _ref18.meta,\n        keepDirty = _ref18$meta.keepDirty,\n        keepSubmitSucceeded = _ref18$meta.keepSubmitSucceeded,\n        updateUnregisteredFields = _ref18$meta.updateUnregisteredFields,\n        keepValues = _ref18$meta.keepValues;\n\n    var mapData = fromJS(payload);\n    var result = empty; // clean all field state\n\n    // persist old warnings, they will get recalculated if the new form values are different from the old values\n    var warning = getIn(state, 'warning');\n    if (warning) {\n      result = setIn(result, 'warning', warning);\n    }\n    var syncWarnings = getIn(state, 'syncWarnings');\n    if (syncWarnings) {\n      result = setIn(result, 'syncWarnings', syncWarnings);\n    }\n\n    // persist old errors, they will get recalculated if the new form values are different from the old values\n    var error = getIn(state, 'error');\n    if (error) {\n      result = setIn(result, 'error', error);\n    }\n    var syncErrors = getIn(state, 'syncErrors');\n    if (syncErrors) {\n      result = setIn(result, 'syncErrors', syncErrors);\n    }\n\n    var registeredFields = getIn(state, 'registeredFields');\n    if (registeredFields) {\n      result = setIn(result, 'registeredFields', registeredFields);\n    }\n\n    var previousValues = getIn(state, 'values');\n    var previousInitialValues = getIn(state, 'initial');\n\n    var newInitialValues = mapData;\n    var newValues = previousValues;\n\n    if (keepDirty && registeredFields) {\n      if (!deepEqual(newInitialValues, previousInitialValues)) {\n        //\n        // Keep the value of dirty fields while updating the value of\n        // pristine fields. This way, apps can reinitialize forms while\n        // avoiding stomping on user edits.\n        //\n        // Note 1: The initialize action replaces all initial values\n        // regardless of keepDirty.\n        //\n        // Note 2: When a field is dirty, keepDirty is enabled, and the field\n        // value is the same as the new initial value for the field, the\n        // initialize action causes the field to become pristine. That effect\n        // is what we want.\n        //\n        var overwritePristineValue = function overwritePristineValue(name) {\n          var previousInitialValue = getIn(previousInitialValues, name);\n          var previousValue = getIn(previousValues, name);\n\n          if (deepEqual(previousValue, previousInitialValue)) {\n            // Overwrite the old pristine value with the new pristine value\n            var newInitialValue = getIn(newInitialValues, name);\n\n            // This check prevents any 'setIn' call that would create useless\n            // nested objects, since the path to the new field value would\n            // evaluate to the same (especially for undefined values)\n            if (getIn(newValues, name) !== newInitialValue) {\n              newValues = setIn(newValues, name, newInitialValue);\n            }\n          }\n        };\n\n        if (!updateUnregisteredFields) {\n          forEach(keys(registeredFields), function (name) {\n            return overwritePristineValue(name);\n          });\n        }\n\n        forEach(keys(newInitialValues), function (name) {\n          var previousInitialValue = getIn(previousInitialValues, name);\n          if (typeof previousInitialValue === 'undefined') {\n            // Add new values at the root level.\n            var newInitialValue = getIn(newInitialValues, name);\n            newValues = setIn(newValues, name, newInitialValue);\n          }\n\n          if (updateUnregisteredFields) {\n            overwritePristineValue(name);\n          }\n        });\n      }\n    } else {\n      newValues = newInitialValues;\n    }\n\n    if (keepValues) {\n      forEach(keys(previousValues), function (name) {\n        var previousValue = getIn(previousValues, name);\n\n        newValues = setIn(newValues, name, previousValue);\n      });\n\n      forEach(keys(previousInitialValues), function (name) {\n        var previousInitialValue = getIn(previousInitialValues, name);\n\n        newInitialValues = setIn(newInitialValues, name, previousInitialValue);\n      });\n    }\n\n    if (keepSubmitSucceeded && getIn(state, 'submitSucceeded')) {\n      result = setIn(result, 'submitSucceeded', true);\n    }\n    result = setIn(result, 'values', newValues);\n    result = setIn(result, 'initial', newInitialValues);\n    return result;\n  }), _defineProperty(_behaviors, REGISTER_FIELD, function (state, _ref19) {\n    var _ref19$payload = _ref19.payload,\n        name = _ref19$payload.name,\n        type = _ref19$payload.type;\n\n    var key = 'registeredFields[\\'' + name + '\\']';\n    var field = getIn(state, key);\n    if (field) {\n      var count = getIn(field, 'count') + 1;\n      field = setIn(field, 'count', count);\n    } else {\n      field = fromJS({ name: name, type: type, count: 1 });\n    }\n    return setIn(state, key, field);\n  }), _defineProperty(_behaviors, RESET, function (state) {\n    var result = empty;\n    var registeredFields = getIn(state, 'registeredFields');\n    if (registeredFields) {\n      result = setIn(result, 'registeredFields', registeredFields);\n    }\n    var values = getIn(state, 'initial');\n    if (values) {\n      result = setIn(result, 'values', values);\n      result = setIn(result, 'initial', values);\n    }\n    return result;\n  }), _defineProperty(_behaviors, RESET_SECTION, function (state, _ref20) {\n    var sections = _ref20.meta.sections;\n\n    var result = state;\n\n    sections.forEach(function (section) {\n      result = deleteInWithCleanUp(result, 'asyncErrors.' + section);\n      result = deleteInWithCleanUp(result, 'submitErrors.' + section);\n      result = deleteInWithCleanUp(result, 'fields.' + section);\n\n      var values = getIn(state, 'initial.' + section);\n      result = values ? setIn(result, 'values.' + section, values) : deleteInWithCleanUp(result, 'values.' + section);\n    });\n\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, 'fields.' + key + '.touched');\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n\n    return result;\n  }), _defineProperty(_behaviors, SUBMIT, function (state) {\n    return setIn(state, 'triggerSubmit', true);\n  }), _defineProperty(_behaviors, START_ASYNC_VALIDATION, function (state, _ref21) {\n    var field = _ref21.meta.field;\n\n    return setIn(state, 'asyncValidating', field || true);\n  }), _defineProperty(_behaviors, START_SUBMIT, function (state) {\n    return setIn(state, 'submitting', true);\n  }), _defineProperty(_behaviors, STOP_ASYNC_VALIDATION, function (state, _ref22) {\n    var payload = _ref22.payload;\n\n    var result = state;\n    result = deleteIn(result, 'asyncValidating');\n    if (payload && Object.keys(payload).length) {\n      var _error = payload._error,\n          fieldErrors = _objectWithoutProperties(payload, ['_error']);\n\n      if (_error) {\n        result = setIn(result, 'error', _error);\n      }\n      if (Object.keys(fieldErrors).length) {\n        result = setIn(result, 'asyncErrors', fromJS(fieldErrors));\n      }\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'asyncErrors');\n    }\n    return result;\n  }), _defineProperty(_behaviors, STOP_SUBMIT, function (state, _ref23) {\n    var payload = _ref23.payload;\n\n    var result = state;\n    result = deleteIn(result, 'submitting');\n    result = deleteIn(result, 'submitFailed');\n    result = deleteIn(result, 'submitSucceeded');\n    if (payload && Object.keys(payload).length) {\n      var _error = payload._error,\n          fieldErrors = _objectWithoutProperties(payload, ['_error']);\n\n      if (_error) {\n        result = setIn(result, 'error', _error);\n      } else {\n        result = deleteIn(result, 'error');\n      }\n      if (Object.keys(fieldErrors).length) {\n        result = setIn(result, 'submitErrors', fromJS(fieldErrors));\n      } else {\n        result = deleteIn(result, 'submitErrors');\n      }\n      result = setIn(result, 'submitFailed', true);\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'submitErrors');\n    }\n    return result;\n  }), _defineProperty(_behaviors, SET_SUBMIT_FAILED, function (state, _ref24) {\n    var fields = _ref24.meta.fields;\n\n    var result = state;\n    result = setIn(result, 'submitFailed', true);\n    result = deleteIn(result, 'submitSucceeded');\n    result = deleteIn(result, 'submitting');\n    fields.forEach(function (field) {\n      return result = setIn(result, 'fields.' + field + '.touched', true);\n    });\n    if (fields.length) {\n      result = setIn(result, 'anyTouched', true);\n    }\n    return result;\n  }), _defineProperty(_behaviors, SET_SUBMIT_SUCCEEDED, function (state) {\n    var result = state;\n    result = deleteIn(result, 'submitFailed');\n    result = setIn(result, 'submitSucceeded', true);\n    return result;\n  }), _defineProperty(_behaviors, TOUCH, function (state, _ref25) {\n    var fields = _ref25.meta.fields;\n\n    var result = state;\n    fields.forEach(function (field) {\n      return result = setIn(result, 'fields.' + field + '.touched', true);\n    });\n    result = setIn(result, 'anyTouched', true);\n    return result;\n  }), _defineProperty(_behaviors, UNREGISTER_FIELD, function (state, _ref26) {\n    var _ref26$payload = _ref26.payload,\n        name = _ref26$payload.name,\n        destroyOnUnmount = _ref26$payload.destroyOnUnmount;\n\n    var result = state;\n    var key = 'registeredFields[\\'' + name + '\\']';\n    var field = getIn(result, key);\n    if (!field) {\n      return result;\n    }\n\n    var count = getIn(field, 'count') - 1;\n    if (count <= 0 && destroyOnUnmount) {\n      // Note: Cannot use deleteWithCleanUp here because of the flat nature of registeredFields\n      result = deleteIn(result, key);\n      if (deepEqual(getIn(result, 'registeredFields'), empty)) {\n        result = deleteIn(result, 'registeredFields');\n      }\n      var syncErrors = getIn(result, 'syncErrors');\n      if (syncErrors) {\n        syncErrors = plainDeleteInWithCleanUp(syncErrors, name);\n        if (plain.deepEqual(syncErrors, plain.empty)) {\n          result = deleteIn(result, 'syncErrors');\n        } else {\n          result = setIn(result, 'syncErrors', syncErrors);\n        }\n      }\n      var syncWarnings = getIn(result, 'syncWarnings');\n      if (syncWarnings) {\n        syncWarnings = plainDeleteInWithCleanUp(syncWarnings, name);\n        if (plain.deepEqual(syncWarnings, plain.empty)) {\n          result = deleteIn(result, 'syncWarnings');\n        } else {\n          result = setIn(result, 'syncWarnings', syncWarnings);\n        }\n      }\n      result = deleteInWithCleanUp(result, 'submitErrors.' + name);\n      result = deleteInWithCleanUp(result, 'asyncErrors.' + name);\n    } else {\n      field = setIn(field, 'count', count);\n      result = setIn(result, key, field);\n    }\n    return result;\n  }), _defineProperty(_behaviors, UNTOUCH, function (state, _ref27) {\n    var fields = _ref27.meta.fields;\n\n    var result = state;\n    fields.forEach(function (field) {\n      return result = deleteIn(result, 'fields.' + field + '.touched');\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, 'fields.' + key + '.touched');\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }), _defineProperty(_behaviors, UPDATE_SYNC_ERRORS, function (state, _ref28) {\n    var _ref28$payload = _ref28.payload,\n        syncErrors = _ref28$payload.syncErrors,\n        error = _ref28$payload.error;\n\n    var result = state;\n    if (error) {\n      result = setIn(result, 'error', error);\n      result = setIn(result, 'syncError', true);\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'syncError');\n    }\n    if (Object.keys(syncErrors).length) {\n      result = setIn(result, 'syncErrors', syncErrors);\n    } else {\n      result = deleteIn(result, 'syncErrors');\n    }\n    return result;\n  }), _defineProperty(_behaviors, UPDATE_SYNC_WARNINGS, function (state, _ref29) {\n    var _ref29$payload = _ref29.payload,\n        syncWarnings = _ref29$payload.syncWarnings,\n        warning = _ref29$payload.warning;\n\n    var result = state;\n    if (warning) {\n      result = setIn(result, 'warning', warning);\n    } else {\n      result = deleteIn(result, 'warning');\n    }\n    if (Object.keys(syncWarnings).length) {\n      result = setIn(result, 'syncWarnings', syncWarnings);\n    } else {\n      result = deleteIn(result, 'syncWarnings');\n    }\n    return result;\n  }), _behaviors);\n\n  var reducer = function reducer() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : empty;\n    var action = arguments[1];\n\n    var behavior = behaviors[action.type];\n    return behavior ? behavior(state, action) : state;\n  };\n\n  var byForm = function byForm(reducer) {\n    return function () {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : empty;\n      var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { type: 'NONE' };\n\n      var form = action && action.meta && action.meta.form;\n      if (!form || !isReduxFormAction(action)) {\n        return state;\n      }\n      if (action.type === DESTROY && action.meta && action.meta.form) {\n        return action.meta.form.reduce(function (result, form) {\n          return deleteInWithCleanUp(result, form);\n        }, state);\n      }\n      var formState = getIn(state, form);\n      var result = reducer(formState, action);\n      return result === formState ? state : setIn(state, form, result);\n    };\n  };\n\n  /**\n   * Adds additional functionality to the reducer\n   */\n  function decorate(target) {\n    target.plugin = function (reducers) {\n      var _this = this;\n\n      // use 'function' keyword to enable 'this'\n      return decorate(function () {\n        var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : empty;\n        var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { type: 'NONE' };\n\n        var callPlugin = function callPlugin(processed, key) {\n          var previousState = getIn(processed, key);\n          var nextState = reducers[key](previousState, action, getIn(state, key));\n          return nextState !== previousState ? setIn(processed, key, nextState) : processed;\n        };\n\n        var processed = _this(state, action); // run through redux-form reducer\n        var form = action && action.meta && action.meta.form;\n\n        if (form) {\n          // this is an action aimed at forms, so only give it to the specified form's plugin\n          return reducers[form] ? callPlugin(processed, form) : processed;\n        } else {\n          // this is not a form-specific action, so send it to all the plugins\n          return Object.keys(reducers).reduce(callPlugin, processed);\n        }\n      });\n    };\n\n    return target;\n  }\n\n  return decorate(byForm(reducer));\n}\n\nexport default createReducer;"]},"metadata":{},"sourceType":"module"}